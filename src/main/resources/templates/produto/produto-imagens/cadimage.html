<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net/thymeleaf/layout" 
	layout:decorate="~{fragments/layout}"
	xmlns:th="http://www.thymeleaf.org">
<head>
	<title>RGDI Store - Cadastro de Produtos - Imagens</title>
</head>
<body>	
	    <section class="layout-content" layout:fragment="corpo">
	        <div class="page-header">
	            <nav class="navbar navbar-expand-md navbar-top bg-light">
	                <div class="collapse navbar-collapse" id="navbarsExampleDefault">
	                    <ul class="navbar-nav">
	                    	<li class="nav-item active"><i class="fa-solid fa-caret-right me-1"></i><span class="me-2">Produtos-Imagens</span></li>
	                        <li class="nav-item active"><i class="fa-solid fa-caret-right me-1"></i><span>Cadadastrar</span>
	                        </li>
	                    </ul>
	                </div>
	                <a class="btn btn-primary btn-md" href="/produto-imagens/listar" role="button">
	                    <span class="fa-solid fa-table-list me-2" title="Cadastro" aria-hidden="true"></span>
	                    <span>Listar Imagens dos Produtos</span>
	                </a>
	            </nav>
	        </div>
	
	        <div class="container container-admin" id="cadastro">
	        	<div th:if="${sucesso}" class="alert alert-success alert-dismissible fade show" role="alert">
			    	<span th:text="${sucesso}"></span>
			    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Fechar"></button>
				</div>
				<div th:if="${erro}" class="alert alert-danger alert-dismissible fade show" role="alert">
		            <span th:text="${erro}"></span>
		            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Fechar"></button>
		        </div>
	            <form action="/produto-imagens/salvar" method="POST" enctype="multipart/form-data">
				    <div class="row">
				        <div class="mb-3 col-md-8">
				            <label>Produto</label>
				            <select name="produto" class="form-control">
				                <option th:each="prod: ${produtosList}" th:value="${prod.id}" th:text="${prod.nome}"></option>
				            </select>
				            <div class="invalid-feedback"></div>
				        </div>				       
				    </div>
				    <div class="row">
				       <div class="mb-3 col-md-8">
				            <label for="imageFile" class="form-label">Selecionar Imagem</label>
				            <input type="file" class="form-control" id="imageFile" name="file" required>
				        </div>
				    </div>
				    <button type="submit" class="btn btn-primary"><i class="fa-solid fa-floppy-disk"></i> Salvar</button>
				    <a th:href="@{/produto-imagens/listar}" class="btn btn-secondary">Cancelar</a>
				</form>
	        </div>
	    </section>
</body>
</html>		