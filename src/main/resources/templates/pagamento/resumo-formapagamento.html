<!DOCTYPE html>
<html lang="pt" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net/thymeleaf/layout"
	layout:decorate="~{fragments/layoutindex}">
<head>
  <title>RGDI Store Loja - Formas de Pagamento</title>
</head>
    <body>
    	<header class="bg-dark py-5" layout:fragment="header">
            <div class="container px-4 px-lg-5 my-5">
                <div class="text-center text-white flex-inline">
                    <h3 class="fw-bolder">Formas de Pagamento</h3>
                    <div th:if="${isClient}">
		               <span><i class="fa-solid fa-caret-right"></i></span>
		              <span class="mr-3" th:text="${userName}">Visitante</span>
		              <span><i class="fa-solid fa-caret-left"></i></span>		        
		        	</div>
                </div>
            </div>
        </header>        
        <!-- Section-->
        <section class="py-5" layout:fragment="corpo">
		    <div class="container px-4 px-lg-5 mt-5">
		        <div class="row">
		
		            <!-- Bloco da Forma de Pagamento -->
		            <div class="col-md-6 mb-4">
		                <h4>Forma de Pagamento</h4>
		                <form th:action="@{/clientes/pagamento-processar}" method="post">
		                    <!-- Dados ocultos -->
		                    <input type="hidden" name="total" th:value="${total}">
		                    <input type="hidden" name="frete" th:value="${frete}">
		                    <input type="hidden" name="subtotal" th:value="${subtotal}">
		                    <input type="hidden" name="enderecoId" th:value="${enderecoSelecionado}" />
		
		                    <div class="form-check mb-2">
		                        <input class="form-check-input" type="radio" name="formaPagamento" id="pagamentoPix" value="PIX" checked>
		                        <label class="form-check-label" for="pagamentoPix">Pix</label>
		                    </div>
		
		                    <div class="form-check mb-2">
		                        <input class="form-check-input" type="radio" name="formaPagamento" id="pagamentoCartao" value="CARTAOCREDITO">
		                        <label class="form-check-label" for="pagamentoCartao">Cartão de Crédito</label>
		                    </div>
		
		                    <div class="form-check mb-4">
		                        <input class="form-check-input" type="radio" name="formaPagamento" id="pagamentoBoleto" value="BOLETO">
		                        <label class="form-check-label" for="pagamentoBoleto">Boleto Bancário</label>
		                    </div>
		
		                    <div class="d-flex justify-content-between">
		                        <a th:href="@{/carrinho}" class="btn btn-secondary">Voltar</a>
		                        <button type="submit" class="btn btn-success">Confirmar Pagamento</button>
		                    </div>
		                </form>
		            </div>
		
		            <!-- Bloco do Resumo da Compra -->
		            <div class="col-md-6 mb-4">
		                <div class="border rounded p-4 bg-light h-100">
		                    <h4 class="mb-4">Resumo da Compra</h4>
		
		                    <div class="d-flex justify-content-between mb-2">
		                        <span><strong>Subtotal</strong></span>
		                        <span>R$ <strong th:text="${#numbers.formatDecimal(subtotal, 1, 2)}">0,00</strong></span>
		                    </div>
		
		                    <div class="d-flex justify-content-between mb-2">
		                        <span><strong>Frete</strong></span>
		                        <span>R$ <strong th:text="${#numbers.formatDecimal(frete, 1, 2)}">0,00</strong></span>
		                    </div>
		
		                    <hr>
		
		                    <div class="d-flex justify-content-between">
		                        <span><strong>Total</strong></span>
		                        <span>R$ <strong th:text="${#numbers.formatDecimal(total, 1, 2)}">0,00</strong></span>
		                    </div>
		                </div>
		            </div>
		
		        </div>
		    </div>
		</section>


    </body>
</html>
